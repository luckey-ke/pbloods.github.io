(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{554:function(s,t,e){"use strict";e.r(t);var a=e(9),r=Object(a.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"解包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解包"}},[s._v("#")]),s._v(" 解包")]),s._v(" "),e("h1",{attrs:{id:"system-dat-br-system-dat"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#system-dat-br-system-dat"}},[s._v("#")]),s._v(" system.dat.br -> system.dat")]),s._v(" "),e("p",[s._v("安装"),e("a",{attrs:{href:"https://github.com/google/brotli",target:"_blank",rel:"noopener noreferrer"}},[s._v("brotli"),e("OutboundLink")],1)]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("brotli -d system.dat.br -o system.dat\n")])])]),e("h1",{attrs:{id:"system-dat-system-img-ext4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#system-dat-system-img-ext4"}},[s._v("#")]),s._v(" system.dat -> system.img(ext4)")]),s._v(" "),e("p",[s._v("安装"),e("a",{attrs:{href:"https://github.com/xpirt/sdat2img",target:"_blank",rel:"noopener noreferrer"}},[s._v("sdat2img"),e("OutboundLink")],1),s._v(", 需要Python 2.7+环境支持")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("sdat2img.py system.transfer.list system.new.dat system.img\n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"title"}),e("p",[s._v("这样格式就转换成img了，电脑可以用bandzip解压，安卓可以用"),e("a",{attrs:{href:"https://lxt.lanzoui.com/icjqGw3xywj",target:"_blank",rel:"noopener noreferrer"}},[s._v("Zarchiver"),e("OutboundLink")],1),s._v("解压.")])]),e("h2",{attrs:{id:"打包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#打包"}},[s._v("#")]),s._v(" 打包")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" system.img                 "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看修改前system.img格式")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l system.img                "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看修改前system.img分区大小")]),s._v("\n")])])]),e("h1",{attrs:{id:"把system文件夹下的文件打包成system-img镜像文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#把system文件夹下的文件打包成system-img镜像文件"}},[s._v("#")]),s._v(" 把system文件夹下的文件打包成system.img镜像文件")]),s._v(" "),e("p",[s._v("安装"),e("a",{attrs:{href:"https://lxt.lanzoui.com/iZ9FRw40i4d",target:"_blank",rel:"noopener noreferrer"}},[s._v("make_ext4fs"),e("OutboundLink")],1)]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("make_ext4fs -s -l "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3221225472")]),s._v(" -a system system.img /system\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#参数说明：")]),s._v("\n-s 表示安静处理，不输出动作，可以不带该参数\n-l 表示最大的文件大小（system分区大小）单位也可以为MB\n注:"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("其中的-l 参数3221225472数就是system.img的分区大小总字节数，需换成自己合适的参数\n-a 表示Android的分区名，比如我这里是system\nsystem.img 表示输出文件名\n/system 表示被打包的输入目录\n")])])]),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"title"}),e("p",[s._v("打包完成后输入"),e("code",[s._v("file system.img")]),s._v("查看镜像信息,如果文件格式和原来不一样，需要转换文件格式")])]),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("simg2img system.img system_new.img        "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#转换为ext4格式")]),s._v("\n")])])]),e("h1",{attrs:{id:"system-img-system-dat"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#system-img-system-dat"}},[s._v("#")]),s._v(" system.img -> system.dat")]),s._v(" "),e("p",[s._v("安装"),e("a",{attrs:{href:"https://github.com/jazchen/rimg2sdat",target:"_blank",rel:"noopener noreferrer"}},[s._v("rimg2sdat"),e("OutboundLink")],1),s._v(",需要Python 2.7.5+环境支持")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("rimg2sdat.py system_new.img -o /rom -v "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"title"}),e("p",[s._v("成功执行后在rom目录转出"),e("code",[s._v("system.new.dat")]),s._v("和"),e("code",[s._v("system.transfer.list")]),s._v("两个文件")])]),e("h1",{attrs:{id:"system-dat-system-dat-br"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#system-dat-system-dat-br"}},[s._v("#")]),s._v(" system.dat -> system.dat.br")]),s._v(" "),e("p",[s._v("在转出的rom目录手动新建一个"),e("code",[s._v("system.patch.dat")]),s._v("的空文件")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("brotli -q "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" /rom/system.new.dat\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);